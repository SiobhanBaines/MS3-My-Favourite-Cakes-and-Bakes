{% extends "base.html" %}
{% block title %}Recipes{% endblock %}
{% block content %}

    <!-- Flash messages code taken from Code Institute Flask Task Manager Project and altered to fit this website -->
    <section>
        <!-- flash messages  -->
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                {% for message in messages %}
                    <div class="row flashes">
                        <h4 class="pink-text text-darken-4">{{ message }}</h4>
                    </div>
                {% endfor%}
            {% endif %}
        {% endwith %}
    </section>
    <main class="parallax-container">
        <div class="parallax "><img src="{{ url_for('static', filename='images/scales.jpeg') }}"></div>
        <div class="container">
            <h3>Change Password</h3>
            <div class="row card-panel recipe-panel maintain-recipe">
                <form action="{{ url_for('change_password', username=session['user']) }}" method="POST">
                    <div class="row card-panel">
                        <div class="input-field col s8 offset-s2">
                            <i class="login fas fa-user-lock prefix"></i>
                            <input id="old_password" name="old_password" type="password" class="validate">
                            <label for="old_password" class="old_password">Old password</label>
                        </div>
                        <div class="input-field col s8 offset-s2">
                            <i class="login fas fa-user-lock prefix"></i>
                            <input id="new_password" name="new_password" type="password" minlength="5" maxlength="15" pattern="^[a-zA-Z0-9]{5,15}$" class="validate" required>
                            <label for="new_password" class="new_password">New password</label>
                        </div>
                        <div class="input-field col s8 offset-s2">
                            <i class="login fas fa-user-lock prefix"></i>
                            <input id="confirm_new_password" name="confirm_new_password" type="password" minlength="5" maxlength="15" pattern="^[a-zA-Z0-9]{5,15}$" class="validate" required>
                            <label for="confirm_new_password" clasee="confirm new_password">Confirm new password</label>
                        </div>
                        <div class="row">
                            <div class="col s8 offset-s2 right-align">
                                <a href="{{ url_for('profile', username=session['user']) }}" class="teal lighten-4 btn-flat">Close<i class="fas fa-times left"></i></a>
                                <button type="submit" class="btn red darken-1 align-center">Change Passowrd<i class="fas fa-trash-alt left"></i></button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </main>

{% endblock %}