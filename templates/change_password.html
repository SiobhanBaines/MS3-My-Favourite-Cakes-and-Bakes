{% extends "base.html" %}
{% block title %}Recipes{% endblock %}
{% block content %}


    <main class="parallax-container">
        <div class="parallax "><img src="{{ url_for('static', filename='images/scales.jpeg') }}" alt="scales"></div>
        <!-- Flash messages code taken from Code Institute Flask Task Manager Project and altered to fit this website -->
        <section>
            <!-- flash messages  -->
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    {% for message in messages %}
                        <div class="row flashes">
                            <h4 class="pink-text text-darken-4">{{ message }}</h4>
                        </div>
                    {% endfor%}
                {% endif %}
            {% endwith %}
        </section>
    
        <div class="container">
            <h3>Change Password</h3>
            <div class="row">
                <form action="{{ url_for('change_password', username=session['user']) }}" method="POST">
                    <div class="row card-panel">
                        <div class="input-field col s8 offset-s2">
                            <i class="login fas fa-user-lock prefix"></i>
                            <input id="old-password" name="old-password" type="password" class="validate">
                            <label for="old-password" class="old-password">Old password</label>
                        </div>
                        <div class="input-field col s8 offset-s2">
                            <i class="login fas fa-user-lock prefix"></i>
                            <input id="new-password" name="new-password" type="password" minlength="5" maxlength="15" pattern="^[a-zA-Z0-9]{5,15}$" class="validate" required>
                            <label for="new-password" class="new-password">New password</label>
                        </div>
                        <div class="input-field col s8 offset-s2">
                            <i class="login fas fa-user-lock prefix"></i>
                            <input id="confirm-new-password" name="confirm-new-password" type="password" minlength="5" maxlength="15" pattern="^[a-zA-Z0-9]{5,15}$" class="validate" required>
                            <label for="confirm-new-password" class="confirm-new-password">Confirm new password</label>
                        </div>
                        <div class="row">
                            <div class="col s8 offset-s2 right-align">
                                <a href="{{ url_for('profile', username=session['user']) }}" class="teal lighten-4 btn-flat">Close<i class="fas fa-times left"></i></a>
                                <button type="submit" class="btn red darken-1 align-center">Change Passowrd<i class="fas fa-trash-alt left"></i></button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </main>

{% endblock %}